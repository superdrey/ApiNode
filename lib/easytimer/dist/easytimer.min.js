var module,Timer=function(a){"use strict";function b(){return"undefined"!=typeof document}function c(){return y}function d(a,b){return(a%b+b)%b}function e(a,b,c){var d,e="";for(d=0;b>d;d+=1)e+=String(c);return(e+a).slice(-e.length)}function f(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(a,b,c){a=a||["hours","minutes","seconds"],b=b||":",c=c||2;var d,f,g=[],h="";for(f=0;c>f;f+=1)h+="0";for(f=0;f<a.length;f+=1)void 0!==this[a[f]]&&g.push(e(this[a[f]],c,"0"));return d=g.join(b)}}function g(){function a(a,b){var c=Math.floor(b);ha[a]=c,ga[a]=a!==v?d(c,x[a]):c}function e(a){return C(a,v)}function g(a){return C(a,u)}function z(a){return C(a,t)}function A(a){return C(a,s)}function B(a){return C(a,r)}function C(b,c){var d=ha[c];return a(c,b/w[c]),ha[c]!==d}function D(){clearInterval($),$=void 0,ja=!1,ka=!1}function E(){var a=w[_];fa=Date.now()-ha.secondTenths*w[r]*aa,$=setInterval(F,a),ja=!0,ka=!1}function F(){var a=aa>0?Date.now()-fa:fa-Date.now(),b={};b[r]=B(a),b[s]=A(a),b[t]=z(a),b[u]=g(a),b[v]=e(a),G(b),ba(ga),J()&&(U("targetAchieved",ma),P())}function G(a){a[r]&&U("secondTenthsUpdated",ma),a[s]&&U("secondsUpdated",ma),a[t]&&U("minutesUpdated",ma),a[u]&&U("hoursUpdated",ma),a[v]&&U("daysUpdated",ma)}function H(){return ga.days>ca[q]||ga.days===ca[q]&&(ga.hours>ca[p]||ga.hours===ca[p]&&(ga.minutes>ca[o]||ga.minutes===ca[o]&&(ga.seconds>=ca[n]||ga.seconds===ca[s]&&ga.secondTenths>=ca[m])))}function I(){return ga.days<ca[q]||ga.days===ca[q]&&(ga.hours<ca[p]||ga.hours===ca[p]&&(ga.minutes<ca[o]||ga.minutes===ca[o]&&(ga.seconds<ca[n]||ga.seconds===ca[n]&&ga.secondTenths<=ca[m])))}function J(){return ca instanceof Array&&(la.countdown&&I()||!la.countdown&&H())}function K(){for(var a in ga)ga.hasOwnProperty(a)&&"number"==typeof ga[a]&&(ga[a]=0);for(var a in ha)ha.hasOwnProperty(a)&&"number"==typeof ha[a]&&(ha[a]=0)}function L(a){_=a&&"string"==typeof a.precision?a.precision:s,ba=a&&"function"==typeof a.callback?a.callback:function(){},aa=a&&a.countdown===!0?-1:1,ea=a&&1==a.countdown,a&&"object"==typeof a.target&&N(a.target),a&&"object"==typeof a.startValues&&O(a.startValues),ca=ca||!ea?ca:[0,0,0,0,0],la={precision:_,callback:ba,countdown:"object"==typeof a&&1==a.countdown,target:ca,startValues:da}}function M(a){var b,c,d,e,f,g;if("object"==typeof a)if(a instanceof Array){if(5!=a.length)throw new Error("Array size not valid");g=a}else g=[a.secondTenths||0,a.seconds||0,a.minutes||0,a.hours||0,a.days||0];for(var h=0;h<a.length;h+=1)a[h]<0&&(a[h]=0);return b=g[m],c=g[n]+Math.floor(b/i),d=g[o]+Math.floor(c/j),e=g[p]+Math.floor(d/k),f=g[q]+Math.floor(e/l),g[m]=b%i,g[n]=c%j,g[o]=d%k,g[p]=e%l,g[q]=f,g}function N(a){ca=M(a)}function O(a){da=M(a),ga.secondTenths=da[m],ga.seconds=da[n],ga.minutes=da[o],ga.hours=da[p],ga.days=da[q],ha.days=ga.days,ha.hours=ha.days*l+ga.hours,ha.minutes=ha.hours*k+ga.minutes,ha.seconds=ha.minutes*j+ga.seconds,ha.secondTenths=ha.seconds*i+ga.secondTenths}function P(){D(),K(),U("stopped",ma)}function Q(a){if(this.isRunning())throw new Error("Timer already running");this.isPaused()||L(a),J()||(E(),U("started",ma))}function R(){D(),ka=!0,U("paused",ma)}function S(a,d){b()?ia.addEventListener(a,d):c()&&ia.on(a,d)}function T(a,d){b()?ia.removeEventListener(a,d):c()&&ia.removeListener(a,d)}function U(a,d){b()?ia.dispatchEvent(new h(a,d)):c()&&ia.emit(a,d)}function V(){return ja}function W(){return ka}function X(){return ga}function Y(){return ha}function Z(){return la}var $,_,aa,ba,ca,da,ea,fa,ga=new f,ha=new f,ia=b()?document.createElement("span"):c()?new y.EventEmitter:void 0,ja=!1,ka=!1,la={},ma={detail:{timer:this}};"undefined"!=typeof this&&(this.start=Q,this.pause=R,this.stop=P,this.isRunning=V,this.isPaused=W,this.getTimeValues=X,this.getTotalTimeValues=Y,this.getConfig=Z,this.addEventListener=S,this.removeEventListener=T)}var h="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof h&&(h=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},h.prototype=window.Event.prototype,window.CustomEvent=h);var i=10,j=60,k=60,l=24,m=0,n=1,o=2,p=3,q=4,r="secondTenths",s="seconds",t="minutes",u="hours",v="days",w={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},x={secondTenths:i,seconds:j,minutes:k,hours:l},y=a&&a.exports?require("events"):void 0;return a&&a.exports?a.exports=g:"function"==typeof define&&define.amd&&define([],function(){return g}),g}(module);
